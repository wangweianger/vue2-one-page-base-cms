"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,a,i){return a&&t(e.prototype,a),i&&t(e,i),e}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("zaneDate requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:void 0,function(t,e){e&&require("./zane-calendar.css"),(new Date).Format||(Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"H+":this.getHours()>12?this.getHours()-12:this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t});var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,t),this.config={elem:"#zane-calendar",type:"day",position:"fixed",lang:"cn",width:280,format:"yyyy-MM-dd HH:mm:ss",value:"",min:"",max:"",event:"click",showtime:!0,showclean:!0,shownow:!0,showsubmit:!0,haveBotBtns:!0,calendarName:"",mounted:function(){},change:function(){},done:function(){}},this.config=this.extend(this.config,e),isNaN(new Date(this.config.value))&&(this.config.value=""),isNaN(new Date(this.config.min))&&(this.config.min=""),isNaN(new Date(this.config.max))&&(this.config.max=""),this.obj={input:document.querySelector(this.config.elem),calendar:null,id:"#zane-calendar-"+this.config.elem.substring(1),$obj:null,fulldatas:{},handleType:"date",initVal:"",behindTop:10,calendarHeight:307,totalYear:18,cn:{weeks:["日","一","二","三","四","五","六"],time:["时","分","秒"],timeTips:"选择时间",startTime:"开始时间",endTime:"结束时间",dateTips:"返回日期",month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],tools:{confirm:"确定",clear:"清空",now:"现在"}},en:{weeks:["Su","Mo","Tu","We","Th","Fr","Sa"],time:["Hours","Minutes","Seconds"],timeTips:"Select Time",startTime:"Start Time",endTime:"End Time",dateTips:"Select Date",month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tools:{confirm:"Confirm",clear:"Clear",now:"Now"}}},this.vision="1.0.0",this.auther="zane",this.obj.lang=this.obj[this.config.lang],"year"!=this.config.type&&"month"!=this.config.type||(this.config.haveBotBtns=!1),this.config.showtime="time"!=this.config.type,this.init()}return _createClass(t,[{key:"init",value:function(){var t=this;this.on(this.obj.input,this.config.event,function(e){if(e.preventDefault(),e.stopPropagation(),t.obj.calendar)t.elemEventPoint(e);else{var a=t.objHTML(),i=document.createElement("div");switch(i.innerHTML=a,document.body.appendChild(i),t.$obj=document.querySelector(t.obj.id),t.config.type){case"day":t.judgeCalendarRender("day",t.config.value);break;case"year":t.getYearHtml();break;case"month":t.getMonthHtml();break;case"time":t.getTimeHtml()}t.elemEventPoint(e),t.documentClick(),t.calendarClick()}t.obj.initVal=t.obj.input.value;var n=document.querySelectorAll(".zane-calendar");t.forEach(n,function(e,a){"#"+a.getAttribute("id")!==t.obj.id&&(a.style.display="none")})}),this.config.mounted&&this.config.mounted()}},{key:"objHTML",value:function(t){return'<div class="zane-calendar" style="width:'+this.config.width+'px;" id="zane-calendar-'+this.config.elem.substring(1)+'">\n\t\t\t\t\t<div class="zane-calendar-one left" style="width:'+this.config.width+'px;">\n\t\t\t\t\t\t<div class="top">\n\t\t\t\t\t\t\t<div class="common-top top-check-day"></div>\n\t\t\t\t\t\t\t<div class="common-top top-check-year"></div>\t\n\t\t\t\t\t\t\t<div class="common-top top-check-month"></div>\t\n\t\t\t\t\t\t\t<div class="common-top top-check-time"></div>\t\t\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="main">\n\t\t\t\t\t\t\t<div class="common-main main-check-day"></div>\n\t\t\t\t\t\t\t<div class="common-main main-check-year"></div>\n\t\t\t\t\t\t\t<div class="common-main main-check-month"></div>\n\t\t\t\t\t\t\t<div class="common-main main-check-time"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bottom" style="display:'+(this.config.haveBotBtns?"block":"none")+'">\n\t\t\t\t\t\t\t<div class="btn-select-time" style="display:'+(this.config.showtime?"blcok":"none")+'">\n\t\t\t\t\t\t\t\t<div class="left button btn-select-time-item" onclick="'+this.config.calendarName+'.getTimeHtml()">'+this.obj.lang.timeTips+'</div>\n\t\t\t\t\t\t\t</div>\t\n\t\t\t\t \t\t\t<div class="right">\n\t\t\t\t\t\t\t\t<div class="button '+(this.config.shownow?"no-right-line":"")+'" \n\t\t\t\t\t\t\t\t\tstyle="display:'+(this.config.showclean?"blcok":"none")+'"\n\t\t\t\t\t\t\t\t\tonclick="'+this.config.calendarName+'.cleanInputVal()">'+this.obj.lang.tools.clear+'</div>\n\t\t\t\t\t\t\t\t<div class="button '+(this.config.showsubmit?"no-right-line":"")+'"\n\t\t\t\t\t\t\t\t\tstyle="display:'+(this.config.shownow?"blcok":"none")+'" \n\t\t\t\t\t\t\t\t\tonclick="'+this.config.calendarName+'.changeToToday()">'+this.obj.lang.tools.now+'</div>\n\t\t\t\t\t\t\t\t<div class="button" \n\t\t\t\t\t\t\t\t\tstyle="display:'+(this.config.showsubmit?"blcok":"none")+'"\n\t\t\t\t\t\t\t\t\tonclick="'+this.config.calendarName+'.makeSureSelectTime()">'+this.obj.lang.tools.confirm+"</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>"}},{key:"topCheckDayHTML",value:function(t){var e='\t\n\t\t<div onclick="'+this.config.calendarName+".preMonth("+t.year+","+t.month+')" class="icom left"></div>';return"cn"==this.config.lang?e+='<div class="center">\n\t\t\t\t<span onclick="'+this.config.calendarName+".getYearHtml("+t.year+')">'+t.year+'年</span>\n\t\t\t\t<span onclick="'+this.config.calendarName+".getMonthHtml("+t.month+')">'+t.month+"月</span>\n\t\t\t</div>":e+='<div class="center">\n\t\t\t\t<span onclick="'+this.config.calendarName+".getMonthHtml("+t.month+')">'+this.weekToEn(t.month)+'</span>\n\t\t\t\t<span onclick="'+this.config.calendarName+".getYearHtml("+t.year+')">'+t.year+"</span>\n\t\t\t</div>",e+='<div onclick="'+this.config.calendarName+".nextMonth("+t.year+","+t.month+')" class="icom right"></div>'}},{key:"mainCheckDayHTML",value:function(t){for(var e='\n\t\t<div class="week-day"><table class="day" border="0" cellspacing="0">\n\t\t\t<tr>',a=0;a<7;a++)e+="<th>"+this.obj.lang.weeks[a]+"</th>";e+="</tr>";for(var i=0,n=t.datalist.length;i<n;i++){var o=t.datalist[i].class||"";t.datalist[i].day===t.today&&"now"===t.datalist[i].daytype&&(o+=" active"),(""!=this.config.min&&new Date(t.datalist[i].fullday).getTime()<new Date(this.config.min).getTime()||""!=this.config.max&&new Date(t.datalist[i].fullday).getTime()>new Date(this.config.max).getTime())&&(o+=" calendar-disabled"),e+=0==i?'<tr><td data-time="'+t.datalist[i].fullday+'" class="'+o+'">'+t.datalist[i].day+"</td>":i==n-1?'<td data-time="'+t.datalist[i].fullday+'" class="'+o+'">'+t.datalist[i].day+"</td></tr>":(i+1)%7==0?'<td data-time="'+t.datalist[i].fullday+'" class="'+o+'">'+t.datalist[i].day+"</td></tr><tr>":'<td data-time="'+t.datalist[i].fullday+'" class="'+o+'">'+t.datalist[i].day+"</td>"}return e+="</table></div>"}},{key:"topCheckYearHTML",value:function(t){return'\n\t\t<div class="icom left" onclick="'+this.config.calendarName+".perYear("+t.nowyear+')"></div>\n\t\t<div class="center">\n\t\t\t<span>'+t.firstYear+("cn"==this.config.lang?"年":"")+"</span>-\n\t\t\t<span>"+t.lastYear+("cn"==this.config.lang?"年":"")+'</span>\n\t\t</div>\n\t\t<div class="icom right" onclick="'+this.config.calendarName+".nextYear("+t.nowyear+')"></div>'}},{key:"mainCheckYearHTML",value:function(t){for(var e='<div class="week-day">\n\t\t\t<table class="day" border="0" cellspacing="0">',a=0,i=t.datalist.length;a<i;a++){var n=t.datalist[a].class||"";t.datalist[a].year===t.nowyear&&(n+=" active"),e+=0==a?'<tr><td data-year="'+t.datalist[a].year+'" class="'+n+'">'+t.datalist[a].year+("cn"==this.config.lang?"年":"")+"</td>":a==i-1?'<td data-year="'+t.datalist[a].year+'" class="'+n+'">'+t.datalist[a].year+("cn"==this.config.lang?"年":"")+"</td></tr>":(a+1)%3==0?'<td data-year="'+t.datalist[a].year+'" class="'+n+'">'+t.datalist[a].year+("cn"==this.config.lang?"年":"")+"</td></tr><tr>":'<td data-year="'+t.datalist[a].year+'" class="'+n+'">'+t.datalist[a].year+("cn"==this.config.lang?"年":"")+"</td>"}return e+="</table>\n\t\t</div>"}},{key:"topCheckMonthHTML",value:function(t){return'\n\t\t<div class="icom left" onclick="'+this.config.calendarName+".perMonthYear("+t.year+","+t.nowmonth+')"></div>\n\t\t<div class="center">\n\t\t\t<span>'+t.year+'年</span>\n\t\t</div>\n\t\t<div class="icom right" onclick="'+this.config.calendarName+".nextMonthYear("+t.year+","+t.nowmonth+')"></div>'}},{key:"mainCheckMonthHTML",value:function(t){for(var e='<div class="week-day">\n\t\t\t<table class="day" border="0" cellspacing="0">',a=0,i=t.datalist.length;a<i;a++){var n=t.datalist[a].class||"";a+1===t.nowmonth&&(n+=" active"),e+=0==a?'<tr><td data-month="'+(a+1)+'" data-year="'+t.year+'" class="'+n+'">'+t.datalist[a]+"</td>":a==i-1?'<td data-month="'+(a+1)+'" data-year="'+t.year+'" class="'+n+'">'+t.datalist[a]+"</td></tr>":(a+1)%3==0?'<td data-month="'+(a+1)+'" data-year="'+t.year+'" class="'+n+'">'+t.datalist[a]+"</td></tr><tr>":'<td data-month="'+(a+1)+'" data-year="'+t.year+'" class="'+n+'">'+t.datalist[a]+"</td>"}return e+="</table>\n\t\t</div>"}},{key:"topCheckTimeHTML",value:function(){return'<div class="center"><span>'+this.obj.lang.timeTips+"</span></div>"}},{key:"mainCheckTimeHTML",value:function(t){for(var e='<div class="week-day"><ul class="nav"><li>'+this.obj.lang.time[0]+"</li><li>"+this.obj.lang.time[1]+"</li><li>"+this.obj.lang.time[2]+'</li></ul><div class="select-time">\n\t\t\t\t<ul class="hour">',a=0,i=t.hours.length;a<i;a++){var n="";t.hours[a]==t.hour&&(n="active"),e+='<li class="'+n+'" data-time="'+t.hours[a]+'">'+t.hours[a]+"</li>"}e+='</ul><ul class="minute">';for(var o=0,s=t.minutes.length;o<s;o++){var l="";t.minutes[o]==t.minute&&(l="active"),e+='<li class="'+l+'" data-time="'+t.minutes[o]+'">'+t.minutes[o]+"</li>"}e+='</ul><ul class="second">';for(var c=0,r=t.seconds.length;c<r;c++){var h="";t.seconds[c]==t.second&&(h="active"),e+='<li class="'+h+'" data-time="'+t.seconds[c]+'">'+t.seconds[c]+"</li>"}return e+="</ul></div></div>"}},{key:"bottomCheckTimeHTML",value:function(){var t="";return"time"===this.obj.handleType?t+='<div class="left button" onclick="'+this.config.calendarName+'.backDateHtml()">'+this.obj.lang.dateTips+"</div>":t+='<div class="left button" onclick="'+this.config.calendarName+'.getTimeHtml()">'+this.obj.lang.timeTips+"</div>",t}},{key:"elemEventPoint",value:function(t){this.obj.calendar=this.$obj;var e=document.documentElement.clientHeight,a=document.documentElement.scrollTop,i=t.target.offsetTop,n=t.target.offsetLeft,o=t.target.offsetHeight,s=e-(i+o+this.obj.behindTop-a);this.obj.calendar.style.display="block",this.obj.calendar.style.left=n+"px",s>this.obj.calendarHeight?this.obj.calendar.style.top=i+o+this.obj.behindTop+"px":this.obj.calendar.style.top=i-this.obj.behindTop-this.obj.calendarHeight+"px"}},{key:"getTimeDates",value:function(t){var e=[],a=t?new Date(t):new Date,i=a.getFullYear(),n=a.getMonth()+1,o=a.getDate(),s=(a.getDay(),a.getHours()),l=a.getMinutes(),c=a.getSeconds();n=(n+"").length<2?"0"+n:n,o=(o+"").length<2?"0"+o:o,s=(s+"").length<2?"0"+s:s,l=(l+"").length<2?"0"+l:l,c=(c+"").length<2?"0"+c:c;var r=new Date(i,n,0).getDate(),h=new Date(i+"/"+n+"/1").getDay(),d=(new Date(i+"/"+n+"/"+r).getDay(),null);if(h>0){var u=new Date(i,n-1,0).getDate(),m=i,y=n-1;0===y&&(m=i-1,y=12);for(var f=0,g=h;f<g;f++){var v=u-f;y=(y+"").length<2?"0"+y:y,v=(v+"").length<2?"0"+v:v,e.push({day:u-f,week:g-1-f,class:"light",daytype:"pre",fullday:m+"/"+y+"/"+v})}}e=e.reverse();for(var b=0,p=r;b<p;b++){var k=(h+b)%7,j=n,w=b+1;j=(j+"").length<2?"0"+j:j,w=(w+"").length<2?"0"+w:w,e.push({day:b+1,week:k,daytype:"now",fullday:i+"/"+j+"/"+w}),b===p-1&&(d=k,b+1)}var T=42-e.length,S=i,H=parseInt(n)+1;13===H&&(S=i+1,H=1);for(f=0;f<T;f++){var M=(d+1+f)%7,q=f+1;H=(H+"").length<2?"0"+H:H,q=(q+"").length<2?"0"+q:q,e.push({day:f+1,week:M,class:"light",daytype:"next",fullday:S+"/"+H+"/"+q})}return{year:i,month:n,today:o,hour:s,minute:l,second:c,datalist:e}}},{key:"preMonth",value:function(t,e){0==(e-=1)&&(e=12,t-=1);var a=t+"/"+e+"/"+this.obj.fulldatas.today;this.judgeCalendarRender("day",a)}},{key:"nextMonth",value:function(t,e){13==(e+=1)&&(e=1,t+=1);var a=t+"/"+e+"/"+this.obj.fulldatas.today;this.judgeCalendarRender("day",a)}},{key:"getDay",value:function(){var t=this,e=this.$obj.querySelector(".main-check-day").querySelectorAll("td");this.on(e,"click",function(a){if(!t.hasClass(a.target,"calendar-disabled")){var i=this.getAttribute("data-time").split("/");if(t.obj.fulldatas.year=i[0],t.obj.fulldatas.month=i[1],t.obj.fulldatas.today=i[2],t.forEach(e,function(e,a){t.removeClass(a,"active")}),t.addClass(this,"active"),!t.config.showtime){var n=t.obj.fulldatas.year+"/"+t.obj.fulldatas.month+"/"+t.obj.fulldatas.today;t.getYearMonthAndDay(n)}}})}},{key:"getYearHtml",value:function(t){for(var e={nowyear:t=t||(new Date).getFullYear(),datalist:[]},a=0;a<this.obj.totalYear;a++){var i=t-Math.floor(this.obj.totalYear/2)+a;0===a&&(e.firstYear=i),a===this.obj.totalYear-1&&(e.lastYear=i),e.datalist.push({class:"",year:i})}this.judgeCalendarRender("year",e)}},{key:"perYear",value:function(t){t-=this.obj.totalYear,this.getYearHtml(t)}},{key:"nextYear",value:function(t){t+=this.obj.totalYear,this.getYearHtml(t)}},{key:"getYear",value:function(){var t=this,e=this.$obj.querySelector(".main-check-year").querySelectorAll("td");this.on(e,"click",function(e){var a=e.target.getAttribute("data-year"),i=a+"/"+t.obj.fulldatas.month+"/"+t.obj.fulldatas.today;"year"===t.config.type?t.getYearMonthAndDay(a,!1):t.judgeCalendarRender("day",i)})}},{key:"getMonthHtml",value:function(t){var e=new Date,a=this.obj.fulldatas.year||e.getFullYear(),i={nowmonth:t=t||e.getMonth()+1,year:a,datalist:this.obj.lang.month};this.judgeCalendarRender("month",i)}},{key:"perMonthYear",value:function(t,e){var a={nowmonth:e,year:t-1,datalist:this.obj.lang.month};this.judgeCalendarRender("month",a)}},{key:"nextMonthYear",value:function(t,e){var a={nowmonth:e,year:t+1,datalist:this.obj.lang.month};this.judgeCalendarRender("month",a)}},{key:"getMonth",value:function(){var t=this,e=this.$obj.querySelector(".main-check-month").querySelectorAll("td");this.on(e,"click",function(e){var a=e.target.getAttribute("data-year"),i=e.target.getAttribute("data-month"),n=a+"/"+i+"/"+t.obj.fulldatas.today;"month"===t.config.type?t.getYearMonthAndDay(i,!1):t.judgeCalendarRender("day",n)})}},{key:"getTimeHtml",value:function(){var t=new Date,e=t.getHours(),a=t.getMinutes(),i=t.getSeconds();e=(e+"").length<2?"0"+e:e,a=(a+"").length<2?"0"+a:a,i=(i+"").length<2?"0"+i:i,this.obj.fulldatas.hour=this.obj.fulldatas.hour||e,this.obj.fulldatas.minute=this.obj.fulldatas.hour||a,this.obj.fulldatas.second=this.obj.fulldatas.hour||i;for(var n={hour:this.obj.fulldatas.hour,minute:this.obj.fulldatas.minute,second:this.obj.fulldatas.second,hours:[],minutes:[],seconds:[]},o=0;o<24;o++)o<10?n.hours.push("0"+o):n.hours.push(o+"");for(o=0;o<60;o++)o<10?(n.minutes.push("0"+o),n.seconds.push("0"+o)):(n.minutes.push(o+""),n.seconds.push(o+""));this.judgeCalendarRender("time",n)}},{key:"selectTime",value:function(){var t=this,e=this.$obj.querySelector("ul.hour").querySelectorAll("li"),a=this.$obj.querySelector("ul.minute").querySelectorAll("li"),i=this.$obj.querySelector("ul.second").querySelectorAll("li");this.on(e,"click",function(a){t.forEach(e,function(e,a){t.removeClass(a,"active")}),t.addClass(this,"active"),t.obj.fulldatas.hour=this.getAttribute("data-time")}),this.on(a,"click",function(e){t.forEach(a,function(e,a){t.removeClass(a,"active")}),t.addClass(this,"active"),t.obj.fulldatas.minute=this.getAttribute("data-time")}),this.on(i,"click",function(e){t.forEach(i,function(e,a){t.removeClass(a,"active")}),t.addClass(this,"active"),t.obj.fulldatas.second=this.getAttribute("data-time")})}},{key:"backDateHtml",value:function(){this.obj.handleType="date";var t=this.bottomCheckTimeHTML();this.$obj.querySelector(".btn-select-time").innerHTML=t,this.showOrHide(this.$obj.querySelectorAll(".common-top"),"hide"),this.showOrHide(this.$obj.querySelectorAll(".common-main"),"hide"),this.$obj.querySelector(".main-check-day").style.display="block",this.$obj.querySelector(".top-check-day").style.display="block"}},{key:"changeToToday",value:function(){var t=this.getTimeDates(),e=null,a=!0;this.config.showtime?e=t.year+"/"+t.month+"/"+t.today+" "+t.hour+":"+t.minute+":"+t.second:"time"==this.config.type?(a=!1,e=t.hour+":"+t.minute+":"+t.second):e=t.year+"/"+t.month+"/"+t.today,this.getYearMonthAndDay(e,a)}},{key:"cleanInputVal",value:function(){this.getYearMonthAndDay("",!1)}},{key:"makeSureSelectTime",value:function(){var t=null,e=!0;this.config.showtime?t=this.obj.fulldatas.year+"/"+this.obj.fulldatas.month+"/"+this.obj.fulldatas.today+" "+this.obj.fulldatas.hour+":"+this.obj.fulldatas.minute+":"+this.obj.fulldatas.second:"time"==this.config.type?(e=!1,t=this.obj.fulldatas.hour+":"+this.obj.fulldatas.minute+":"+this.obj.fulldatas.second):t=this.obj.fulldatas.year+"/"+this.obj.fulldatas.month+"/"+this.obj.fulldatas.today,this.getYearMonthAndDay(t,e)}},{key:"getYearMonthAndDay",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?new Date(t).Format(this.config.format):t;document.querySelector(this.config.elem).value=e,this.$obj.style.display="none",this.config.done&&this.config.done(e),this.obj.initVal!=e&&this.config.change&&this.config.change(e)}},{key:"judgeCalendarRender",value:function(t,e){var a=void 0,i=void 0,n=void 0;switch(t){case"day":this.obj.handleType="day";var o=this.getTimeDates(e);this.obj.fulldatas=o,i=this.topCheckDayHTML(o),a=this.mainCheckDayHTML(o),this.$obj.querySelector(".top-check-day").innerHTML=i,this.$obj.querySelector(".main-check-day").innerHTML=a,this.showOrHide(this.$obj.querySelectorAll(".common-top"),"hide"),this.showOrHide(this.$obj.querySelectorAll(".common-main"),"hide"),this.$obj.querySelector(".main-check-day").style.display="block",this.$obj.querySelector(".top-check-day").style.display="block",this.countHeight(".main-check-day",7),this.getDay();break;case"year":this.obj.handleType="year",a=this.mainCheckYearHTML(e),i=this.topCheckYearHTML(e),this.$obj.querySelector(".main-check-year").innerHTML=a,this.$obj.querySelector(".top-check-year").innerHTML=i,this.showOrHide(this.$obj.querySelectorAll(".common-top"),"hide"),this.showOrHide(this.$obj.querySelectorAll(".common-main"),"hide"),this.$obj.querySelector(".main-check-year").style.display="block",this.$obj.querySelector(".top-check-year").style.display="block",this.countHeight(".main-check-year",6),this.getYear();break;case"month":this.obj.handleType="month",a=this.mainCheckMonthHTML(e),i=this.topCheckMonthHTML(e),this.$obj.querySelector(".main-check-month").innerHTML=a,this.$obj.querySelector(".top-check-month").innerHTML=i,this.showOrHide(this.$obj.querySelectorAll(".common-top"),"hide"),this.showOrHide(this.$obj.querySelectorAll(".common-main"),"hide"),this.$obj.querySelector(".main-check-month").style.display="block",this.$obj.querySelector(".top-check-month").style.display="block",this.countHeight(".main-check-month",4),this.getMonth();break;case"time":this.obj.handleType="time",a=this.mainCheckTimeHTML(e),i=this.topCheckTimeHTML(),n=this.bottomCheckTimeHTML(),this.$obj.querySelector(".main-check-time").innerHTML=a,this.$obj.querySelector(".top-check-time").innerHTML=i,this.$obj.querySelector(".btn-select-time").innerHTML=n,this.showOrHide(this.$obj.querySelectorAll(".common-top"),"hide"),this.showOrHide(this.$obj.querySelectorAll(".common-main"),"hide"),this.$obj.querySelector(".main-check-time").style.display="block",this.$obj.querySelector(".top-check-time").style.display="block";var s=this.$obj.querySelector("ul.hour").querySelector("li.active").offsetTop,l=this.$obj.querySelector("ul.minute").querySelector("li.active").offsetTop,c=this.$obj.querySelector("ul.second").querySelector("li.active").offsetTop;this.$obj.querySelector("ul.hour").scrollTop=s-150,this.$obj.querySelector("ul.minute").scrollTop=l-150,this.$obj.querySelector("ul.second").scrollTop=c-150,this.selectTime()}}},{key:"calendarClick",value:function(){this.on(this.obj.calendar,"click",function(t){t.preventDefault(),t.stopPropagation()})}},{key:"extend",value:function(t,e){return Object.assign(t,e)}},{key:"hasClass",value:function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}},{key:"addClass",value:function(t,e){this.hasClass(t,e)||(t.className+=" "+e)}},{key:"removeClass",value:function(t,e){if(this.hasClass(t,e)){var a=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(a," ")}}},{key:"forEach",value:function(t,e){var a=void 0;if("function"!=typeof e)return this;if(t=t||[],"[object Object]"==Object.prototype.toString.call(t)){for(a in t)if(e.call(t[a],a,t[a]))break}else if("[object NodeList]"==Object.prototype.toString.call(t)||"[object Array]"==Object.prototype.toString.call(t))for(a=0;a<t.length&&!e.call(t[a],a,t[a]);a++);else e.call(t,0,t);return this}},{key:"on",value:function(t,e,a){return this.forEach(t,function(t,i){i.attachEvent?i.attachEvent("on"+e,function(t){t.target=t.srcElement,a.call(i,t)}):i.addEventListener(e,a,!1)})}},{key:"weekToEn",value:function(t){var e="string"==typeof t?parseInt(t):t;return this.obj.en.month[e-1]}},{key:"showOrHide",value:function(t,e){for(var a=0,i=t.length;a<i;a++)t[a].style.display="hide"===e?"none":"block"}},{key:"off",value:function(t,e,a){return this.forEach(t,function(t,i){i.detachEvent?i.detachEvent("on"+e,a):i.removeEventListener(e,a,!1)})}},{key:"countHeight",value:function(t,e){var a=this.$obj.querySelector(".main").offsetHeight,i=this.$obj.querySelector(t).querySelectorAll("tr"),n=Math.floor(a/e);this.forEach(i,function(t,e){e.style.height=n+"px"})}},{key:"documentClick",value:function(){var t=this;this.on(document,"click",function(e){t.obj.calendar&&(t.obj.calendar.style.display="none")})}}]),t}(),i=function(e){var i=e.elem.substring(1);i=i.replace(/[_-]/g,"").toUpperCase(),e.calendarName=i,e.width=e.width<260?260:e.width,e.width=e.width>500?500:e.width,t[i]=new a(e)};return e||(t.zaneDate=i),i});